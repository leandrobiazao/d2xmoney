<app-header (showHome)="onShowHome()" (showHistory)="onShowHistory()" (showClubeDoValor)="onShowClubeDoValor()" />

<main>
  @if (!showBrokerageHistory && !showClubeDoValor) {
    <app-user-list
      (userSelected)="onUserSelected($event)"
      (createUser)="onCreateUser()"
    />

    @if (showCreateUser) {
      <app-create-user
        (close)="onCloseCreateUser()"
        (userCreated)="onUserCreated()"
      />
    }

    @if (selectedUser) {
      <app-portfolio [userId]="selectedUser.id" [userName]="selectedUser.name || ''"/>
    } @else {
      <p id="fallback">Selecione um cliente para ver sua carteira de investimentos.</p>
    }
  } @else if (showBrokerageHistory) {
    <div class="brokerage-history-container">
      <button (click)="onBackToMain()" class="back-button">‚Üê Voltar</button>
      <app-history-list />
    </div>
  } @else if (showClubeDoValor) {
    <!-- Component with Sidebar + Content -->
    <app-clubedovalor />
  }
</main>
